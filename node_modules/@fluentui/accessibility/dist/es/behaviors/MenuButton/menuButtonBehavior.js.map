{"version":3,"sources":["behaviors/MenuButton/menuButtonBehavior.ts"],"names":["keyboardKey","popupBehavior","menuButtonBehavior","props","behavior","inline","contextMenu","attributes","trigger","open","menuId","id","triggerId","tabIndex","menu","keyActions","root","closeMenu","keyCombinations","keyCode","Tab","shiftKey","on","openAndFocusFirst","ArrowDown","openAndFocusLast","ArrowUp"],"mappings":";;AAAA,SAASA,WAAT,QAA4B,oBAA5B;AAIA,SAASC,aAAT,QAAkD,wBAAlD;AAEA;AACA;AACA;AACA;;AACA,OAAO,IAAMC,kBAA0D,GAAG,SAA7DA,kBAA6D,CAAAC,KAAK,EAAI;AACjF,MAAMC,QAAQ,GAAGH,aAAa,mBAAME,KAAN;AAAaE,IAAAA,MAAM,EAAE,CAACF,KAAK,CAACG;AAA5B,KAA9B;AAEA,SAAO,OAAQF,QAAR,EAAkB;AACvBG,IAAAA,UAAU,EAAE;AACVC,MAAAA,OAAO,oBACDL,KAAK,CAACM,IAAN,IAAc;AAAE,yBAAiBN,KAAK,CAACO;AAAzB,OADb,EAEDP,KAAK,CAACM,IAAN,IAAc,CAACN,KAAK,CAACG,WAArB,IAAoC;AAAE,yBAAiB;AAAnB,OAFnC,EAGD,CAACH,KAAK,CAACG,WAAP,IAAsB;AAAE,yBAAiB;AAAnB,OAHrB;AAILK,QAAAA,EAAE,EAAER,KAAK,CAACS;AAJL,SAKD,CAACT,KAAK,CAACG,WAAP,IAAsBH,KAAK,CAACM,IAA5B,IAAoC;AAAEI,QAAAA,QAAQ,EAAE,CAAC;AAAb,OALnC,CADG;AASVC,MAAAA,IAAI,EAAE;AACJ,2BAAmBX,KAAK,CAACS,SADrB;AAEJD,QAAAA,EAAE,EAAER,KAAK,CAACO;AAFN;AATI,KADW;AAevBK,IAAAA,UAAU,EAAE;AACVC,MAAAA,IAAI,oBACEb,KAAK,CAACM,IAAN,GACA;AACEQ,QAAAA,SAAS,EAAE;AACTC,UAAAA,eAAe,EAAE,CACf;AAAEC,YAAAA,OAAO,EAAEnB,WAAW,CAACoB,GAAvB;AAA4BC,YAAAA,QAAQ,EAAE;AAAtC,WADe,EAEf;AAAEF,YAAAA,OAAO,EAAEnB,WAAW,CAACoB,GAAvB;AAA4BC,YAAAA,QAAQ,EAAE;AAAtC,WAFe;AADR;AADb,OADA,GASA,UAAWlB,KAAK,CAACmB,EAAjB,EAAqB,OAArB,KAAiC;AAC/BC,QAAAA,iBAAiB,EAAE;AACjBL,UAAAA,eAAe,EAAE,CAAC;AAAEC,YAAAA,OAAO,EAAEnB,WAAW,CAACwB;AAAvB,WAAD;AADA,SADY;AAI/BC,QAAAA,gBAAgB,EAAE;AAChBP,UAAAA,eAAe,EAAE,CAAC;AAAEC,YAAAA,OAAO,EAAEnB,WAAW,CAAC0B;AAAvB,WAAD;AADD;AAJa,OAVnC;AADM;AAfW,GAAlB,CAAP;AAqCD,CAxCM","sourcesContent":["import { keyboardKey } from '../../keyboard-key';\nimport * as _ from 'lodash';\n\nimport { Accessibility } from '../../types';\nimport { popupBehavior, PopupBehaviorProps } from '../Popup/popupBehavior';\n\n/**\n * @description\n * Implements ARIA [MenuButton](https://www.w3.org/TR/wai-aria-practices/#menubutton) design pattern.\n */\nexport const menuButtonBehavior: Accessibility<MenuButtonBehaviorProps> = props => {\n  const behavior = popupBehavior({ ...props, inline: !props.contextMenu });\n\n  return _.merge(behavior, {\n    attributes: {\n      trigger: {\n        ...(props.open && { 'aria-controls': props.menuId }),\n        ...(props.open && !props.contextMenu && { 'aria-expanded': 'true' }),\n        ...(!props.contextMenu && { 'aria-haspopup': 'true' }),\n        id: props.triggerId,\n        ...(!props.contextMenu && props.open && { tabIndex: -1 }),\n      },\n\n      menu: {\n        'aria-labelledby': props.triggerId,\n        id: props.menuId,\n      },\n    },\n    keyActions: {\n      root: {\n        ...(props.open\n          ? {\n              closeMenu: {\n                keyCombinations: [\n                  { keyCode: keyboardKey.Tab, shiftKey: false },\n                  { keyCode: keyboardKey.Tab, shiftKey: true },\n                ],\n              },\n            }\n          : _.includes(props.on, 'click') && {\n              openAndFocusFirst: {\n                keyCombinations: [{ keyCode: keyboardKey.ArrowDown }],\n              },\n              openAndFocusLast: {\n                keyCombinations: [{ keyCode: keyboardKey.ArrowUp }],\n              },\n            }),\n      },\n    },\n  });\n};\n\nexport interface MenuButtonBehaviorProps extends PopupBehaviorProps {\n  /** Indicates if dialogs's trigger is disabled. */\n  disabled?: boolean;\n  /** Defines ID of the menu element. */\n  menuId?: string;\n  /** Defines ID of the trigger element. */\n  triggerId?: string;\n  /** Defines whether popup is displayed. */\n  open?: boolean;\n  /** Determines if the MenuButton behaves as context menu */\n  contextMenu?: boolean;\n}\n"],"file":"menuButtonBehavior.js"}