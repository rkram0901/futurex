{"version":3,"file":"createDecoratedListThreads.js","sourceRoot":"","sources":["../../../../../preprocess-dist/chat-stateful-client/src/iterators/createDecoratedListThreads.ts"],"names":[],"mappings":"AAAA,uCAAuC;AACvC,kCAAkC;AAIlC,OAAO,EAAE,uBAAuB,EAAE,2BAA2B,EAAE,MAAM,2BAA2B,CAAC;AAGjG;;GAEG;AACH,MAAM,CAAC,MAAM,0BAA0B,GAAG,CAAC,UAAsB,EAAE,OAAoB,EAA0F,EAAE;IACjL,MAAM,mBAAmB,GAAG,CAAC,cAA8B,EAAE,OAAoB,EAAQ,EAAE;QACzF,MAAM,UAAU,GAAG;YACjB,KAAK,EAAE,cAAc,CAAC,KAAK;SAC5B,CAAC;QACF,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,cAAc,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE;YAClE,OAAO,CAAC,YAAY,CAAC,cAAc,CAAC,EAAE,EAAE,UAAU,CAAC,CAAC;SACrD;IACH,CAAC,CAAC;IACF,OAAO,uBAAuB,CAAC,2BAA2B,CAAC,OAAO,CAAC,oBAAoB,CAAC,UAAU,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,4BAA4B,CAAC,EAAE,OAAO,EAAE,4BAA4B,CAAC,EAAE,OAAO,EAAE,mBAAmB,CAAC,CAAC;AAC5O,CAAC,CAAC","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { ChatThreadItem, ChatClient, RestListChatThreadsOptions } from '@azure/communication-chat';\nimport { ChatContext } from '../ChatContext';\nimport { createDecoratedIterator, createErrorHandlingIterator } from './createDecoratedIterator';\nimport { PagedAsyncIterableIterator } from '@azure/core-paging';\n\n/**\n * @private\n */\nexport const createDecoratedListThreads = (chatClient: ChatClient, context: ChatContext): ((options?: RestListChatThreadsOptions) => PagedAsyncIterableIterator<ChatThreadItem>) => {\n  const setThreadProperties = (chatThreadItem: ChatThreadItem, context: ChatContext): void => {\n    const properties = {\n      topic: chatThreadItem.topic\n    };\n    if (!context.createThreadIfNotExist(chatThreadItem.id, properties)) {\n      context.updateThread(chatThreadItem.id, properties);\n    }\n  };\n  return createDecoratedIterator(createErrorHandlingIterator(context.withErrorTeedToState(chatClient.listChatThreads.bind(chatClient), 'ChatClient.listChatThreads'), context, 'ChatClient.listChatThreads'), context, setThreadProperties);\n};"]}