// Copyright (c) Microsoft Corporation.
// Licensed under the MIT license.
import React from 'react';
import { useTheme } from "../../../../../react-components/src";
import { ExpandedLocalVideoTile } from './ExpandedLocalVideoTile';
import { mergeStyles, Stack, Text } from '@fluentui/react';
import { useLocale } from '../../localization';
import { containerStyle, moreDetailsStyle, titleContainerStyle, titleStyle } from '../styles/NetworkReconnectTile.styles';
import { useHandlers } from '../hooks/useHandlers';
import { useLocalVideoStartTrigger } from './MediaGallery';
import { CallCompositeIcon } from '../../common/icons';
/**
 * @private
 */
export const NetworkReconnectTile = (props) => {
    var _a;
    const videoStream = props.localParticipantVideoStream;
    const isVideoReady = (_a = videoStream === null || videoStream === void 0 ? void 0 : videoStream.isAvailable) !== null && _a !== void 0 ? _a : false;
    const palette = useTheme().palette;
    const strings = useLocale().strings.call;
    const handlers = useHandlers(ExpandedLocalVideoTile);
    // This tile may be shown at the beginning of a call.
    // So we need to transition local video to the call.
    useLocalVideoStartTrigger(!!props.localParticipantVideoStream.isAvailable);
    return React.createElement(ExpandedLocalVideoTile, Object.assign({ localParticipantVideoStream: props.localParticipantVideoStream, overlayContent: React.createElement(Stack, { verticalFill: true, horizontalAlign: "center", verticalAlign: "center", className: mergeStyles(containerStyle), "aria-atomic": true },
            React.createElement(Stack, { horizontal: true, className: mergeStyles(titleContainerStyle) },
                React.createElement(CallCompositeIcon, { iconName: "NetworkReconnectIcon", className: mergeStyles(titleStyle) }),
                React.createElement(Text, { className: mergeStyles(titleStyle(palette, isVideoReady)), "aria-live": 'assertive' }, strings.networkReconnectTitle)),
            React.createElement(Text, { className: mergeStyles(moreDetailsStyle(palette, isVideoReady)), "aria-live": 'assertive' }, strings.networkReconnectMoreDetails)) }, handlers));
};
//# sourceMappingURL=NetworkReconnectTile.js.map