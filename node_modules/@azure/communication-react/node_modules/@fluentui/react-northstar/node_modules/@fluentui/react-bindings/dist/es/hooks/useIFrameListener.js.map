{"version":3,"sources":["hooks/useIFrameListener.ts"],"names":["React","FUI_FRAME_EVENT","useIFrameListener","enableFrameFocusDispatch","callback","targetDocument","listener","useCallback","e","useEffect","addEventListener","removeEventListener"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,eAAT,QAAgC,0BAAhC;AAEA;AACA;AACA;;AACA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAC/BC,wBAD+B,EAE/BC,QAF+B,EAG/BC,cAH+B,EAI5B;AACH,MAAMC,QAAQ,GAAGN,KAAK,CAACO,WAAN,CACf,UAACC,CAAD,EAAc;AACZ,QAAIJ,QAAJ,EAAc;AACZA,MAAAA,QAAQ,CAACI,CAAD,CAAR;AACD;AACF,GALc,EAMf,CAACJ,QAAD,CANe,CAAjB;AASAJ,EAAAA,KAAK,CAACS,SAAN,CAAgB,YAAM;AACpB,QAAIN,wBAAJ,EAA8B;AAC5BE,MAAAA,cAAc,QAAd,YAAAA,cAAc,CAAEK,gBAAhB,CAAiCT,eAAjC,EAAkDK,QAAlD;AACD;;AACD,WAAO,YAAM;AACXD,MAAAA,cAAc,QAAd,YAAAA,cAAc,CAAEM,mBAAhB,CAAoCV,eAApC,EAAqDK,QAArD;AACD,KAFD;AAGD,GAPD,EAOG,CAACD,cAAD,EAAiBF,wBAAjB,EAA2CG,QAA3C,CAPH;AAQD,CAtBM","sourcesContent":["import * as React from 'react';\nimport { FUI_FRAME_EVENT } from './useIFrameFocusDispatch';\n\n/**\n * Set a listener for a custom event emmited by the useIFrameFocusDispatch to execute the callback\n */\nexport const useIFrameListener = (\n  enableFrameFocusDispatch: boolean,\n  callback: (e: Event) => void,\n  targetDocument: Document,\n) => {\n  const listener = React.useCallback(\n    (e: Event) => {\n      if (callback) {\n        callback(e);\n      }\n    },\n    [callback],\n  );\n\n  React.useEffect(() => {\n    if (enableFrameFocusDispatch) {\n      targetDocument?.addEventListener(FUI_FRAME_EVENT, listener);\n    }\n    return () => {\n      targetDocument?.removeEventListener(FUI_FRAME_EVENT, listener);\n    };\n  }, [targetDocument, enableFrameFocusDispatch, listener]);\n};\n"],"file":"useIFrameListener.js"}