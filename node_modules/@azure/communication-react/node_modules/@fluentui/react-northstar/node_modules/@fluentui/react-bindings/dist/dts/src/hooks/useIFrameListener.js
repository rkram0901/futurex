"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useIFrameListener = void 0;
var React = require("react");
var useIFrameFocusDispatch_1 = require("./useIFrameFocusDispatch");
/**
 * Set a listener for a custom event emmited by the useIFrameFocusDispatch to execute the callback
 */
var useIFrameListener = function (enableFrameFocusDispatch, callback, targetDocument) {
    var listener = React.useCallback(function (e) {
        if (callback) {
            callback(e);
        }
    }, [callback]);
    React.useEffect(function () {
        if (enableFrameFocusDispatch) {
            targetDocument === null || targetDocument === void 0 ? void 0 : targetDocument.addEventListener(useIFrameFocusDispatch_1.FUI_FRAME_EVENT, listener);
        }
        return function () {
            targetDocument === null || targetDocument === void 0 ? void 0 : targetDocument.removeEventListener(useIFrameFocusDispatch_1.FUI_FRAME_EVENT, listener);
        };
    }, [targetDocument, enableFrameFocusDispatch, listener]);
};
exports.useIFrameListener = useIFrameListener;
