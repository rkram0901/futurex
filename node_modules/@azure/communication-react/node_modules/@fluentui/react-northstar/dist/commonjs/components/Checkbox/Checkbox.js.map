{"version":3,"sources":["components/Checkbox/Checkbox.tsx"],"names":["checkboxClassName","checkboxSlotClassNames","label","indicator","Checkbox","React","forwardRef","props","ref","context","displayName","telemetry","setStart","setEnd","checked","className","defaultChecked","design","disabled","labelPosition","styles","toggle","variables","createCheckboxManager","mapPropsToInitialState","mapPropsToState","state","actions","getA11Props","accessibility","debugName","mapPropsToBehavior","actionHandlers","performClick","e","preventDefault","handleClick","rtl","mapPropsToStyles","mapPropsToInlineStyles","classes","resolvedStyles","ElementType","unhandledProps","handledProps","handleChange","labelElement","Text","create","defaultProps","element","root","onClick","onChange","Box","checkbox","checkboxBehavior","propTypes","commonPropTypes","createCommon","content","PropTypes","oneOf","bool","customPropTypes","shorthandAllowingChildren","itemShorthand","func","Object","keys","Component","mappedProp"],"mappings":"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","sourcesContent":["import { Accessibility, checkboxBehavior, CheckboxBehaviorProps } from '@fluentui/accessibility';\nimport {\n  getElementType,\n  useUnhandledProps,\n  useAccessibility,\n  useStateManager,\n  useFluentContext,\n  useStyles,\n  useTelemetry,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport { createCheckboxManager } from '@fluentui/state';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport { createShorthandFactory, ChildrenComponentProps, commonPropTypes, UIComponentProps } from '../../utils';\nimport { ComponentEventHandler, ShorthandValue, FluentComponentStaticProps } from '../../types';\nimport { Box, BoxProps } from '../Box/Box';\nimport { Text, TextProps } from '../Text/Text';\nimport { SupportedIntrinsicInputProps } from '../../utils/htmlPropsUtils';\n\nexport interface CheckboxSlotClassNames {\n  label: string;\n  indicator: string;\n}\n\nexport interface CheckboxProps extends UIComponentProps, ChildrenComponentProps {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility<CheckboxBehaviorProps>;\n\n  /** A checkbox can be checked by default. */\n  defaultChecked?: SupportedIntrinsicInputProps['defaultChecked'];\n\n  /** A checkbox's checked state can be controlled. */\n  checked?: SupportedIntrinsicInputProps['checked'] | 'mixed';\n\n  /** A checkbox can appear disabled and be unable to change states. */\n  disabled?: SupportedIntrinsicInputProps['disabled'];\n\n  /** A checkbox's indicator icon can be customized. */\n  indicator?: ShorthandValue<BoxProps>;\n\n  /** A checkbox can render a label next to its indicator. */\n  label?: ShorthandValue<TextProps>;\n\n  /** A checkbox's label can be rendered in different positions. */\n  labelPosition?: 'start' | 'end';\n\n  /**\n   * Called after a checkbox's checked state is changed.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onChange?: ComponentEventHandler<Omit<CheckboxProps, 'checked'> & { checked: boolean }>;\n\n  /**\n   * Called after a checkbox is clicked.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onClick?: ComponentEventHandler<Omit<CheckboxProps, 'checked'> & { checked: boolean }>;\n\n  /** A checkbox can be formatted to show an \"on or off\" choice. */\n  toggle?: boolean;\n}\n\nexport type CheckboxStylesProps = Pick<CheckboxProps, 'checked' | 'disabled' | 'labelPosition' | 'toggle'>;\nexport const checkboxClassName = 'ui-checkbox';\nexport const checkboxSlotClassNames: CheckboxSlotClassNames = {\n  label: `${checkboxClassName}__label`,\n  indicator: `${checkboxClassName}__indicator`,\n};\n\n/**\n * A Checkbox allows a user to make a choice between two mutually exclusive options.\n *\n * @accessibility\n * Implements [ARIA Checkbox](https://www.w3.org/TR/wai-aria-practices-1.1/#checkbox) design pattern.\n */\nexport const Checkbox = (React.forwardRef<HTMLDivElement, CheckboxProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(Checkbox.displayName, context.telemetry);\n  setStart();\n\n  const {\n    checked,\n    className,\n    defaultChecked,\n    design,\n    disabled,\n    label,\n    labelPosition,\n    indicator,\n    styles,\n    toggle,\n    variables,\n  } = props;\n\n  const { state, actions } = useStateManager(createCheckboxManager, {\n    mapPropsToInitialState: () => ({ checked: defaultChecked }),\n    mapPropsToState: () => ({ checked: checked === 'mixed' ? false : checked }),\n  });\n\n  const getA11Props = useAccessibility(props.accessibility, {\n    debugName: Checkbox.displayName,\n    mapPropsToBehavior: () => ({\n      checked: state.checked,\n      disabled,\n    }),\n    actionHandlers: {\n      performClick: (e: React.KeyboardEvent) => {\n        e.preventDefault();\n        handleClick(e);\n      },\n    },\n    rtl: context.rtl,\n  });\n\n  const { classes, styles: resolvedStyles } = useStyles<CheckboxStylesProps>(Checkbox.displayName, {\n    className: checkboxClassName,\n    mapPropsToStyles: () => ({\n      checked: checked === 'mixed' ? 'mixed' : state.checked,\n      disabled,\n      labelPosition,\n      toggle,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(Checkbox.handledProps, props);\n\n  const handleChange = (e: React.ChangeEvent) => {\n    if (!disabled) {\n      // Checkbox component doesn't present any `input` component in markup, however all of our\n      // components should handle events transparently.\n      const checked = !state.checked;\n\n      actions.toggle(checked);\n      _.invoke(props, 'onChange', e, { ...props, checked });\n    }\n  };\n\n  const handleClick = (e: React.MouseEvent | React.KeyboardEvent) => {\n    if (!disabled) {\n      const checked = !state.checked;\n      actions.toggle(checked);\n\n      _.invoke(props, 'onClick', e, { ...props, checked });\n      _.invoke(props, 'onChange', e, { ...props, checked });\n    }\n  };\n\n  const labelElement = Text.create(label, {\n    defaultProps: () =>\n      getA11Props('label', {\n        styles: resolvedStyles.label,\n        className: checkboxSlotClassNames.label,\n      }),\n  });\n\n  const element = (\n    <ElementType\n      {...getA11Props('root', {\n        className: classes.root,\n        onClick: handleClick,\n        onChange: handleChange,\n        ref,\n        ...unhandledProps,\n      })}\n    >\n      {labelPosition === 'start' && labelElement}\n      {Box.create(indicator, {\n        defaultProps: () =>\n          getA11Props('indicator', {\n            className: checkboxSlotClassNames.indicator,\n            styles: toggle ? resolvedStyles.toggle : resolvedStyles.checkbox,\n          }),\n      })}\n      {labelPosition === 'end' && labelElement}\n    </ElementType>\n  );\n  setEnd();\n\n  return element;\n}) as unknown) as ForwardRefWithAs<'div', HTMLDivElement, CheckboxProps> & FluentComponentStaticProps<CheckboxProps>;\n\nCheckbox.displayName = 'Checkbox';\n\nCheckbox.defaultProps = {\n  accessibility: checkboxBehavior,\n  indicator: {},\n  labelPosition: 'end',\n};\nCheckbox.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  checked: PropTypes.oneOf<true | false | 'mixed'>([true, false, 'mixed']),\n  defaultChecked: PropTypes.bool,\n  disabled: PropTypes.bool,\n  indicator: customPropTypes.shorthandAllowingChildren,\n  label: customPropTypes.itemShorthand,\n  labelPosition: PropTypes.oneOf<'start' | 'end'>(['start', 'end']),\n  onChange: PropTypes.func,\n  onClick: PropTypes.func,\n  toggle: PropTypes.bool,\n};\nCheckbox.handledProps = Object.keys(Checkbox.propTypes) as any;\n\nCheckbox.create = createShorthandFactory({\n  Component: Checkbox,\n  mappedProp: 'label',\n});\n"],"file":"Checkbox.js"}