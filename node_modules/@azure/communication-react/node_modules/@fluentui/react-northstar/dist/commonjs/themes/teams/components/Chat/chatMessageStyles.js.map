{"version":3,"sources":["themes/teams/components/Chat/chatMessageStyles.ts"],"names":["displayActionMenu","overlayZIndex","zIndex","overflow","opacity","width","chatMessageDensityStyles","comfy","chatMessageStylesComfy","compact","chatMessageStylesCompact","getChatMessageDensityStyles","density","defaultChatDensity","chatMessageStyles","root","componentStyleFunctionParam","p","props","v","variables","siteVariables","theme","borderRadius","display","outline","position","wordBreak","wordWrap","showActionMenu","hasActionMenu","chatMessageSlotClassNames","actionMenu","defaultShowActionMenu","focused","backgroundColor","border","borderColor","reactionGroupBorderColor","boxShadow","actionMenuBoxShadow","author","compactBody","timestamp","content","color","contentColor","mine","linkColorMine","linkColor","textDecoration","badge","hasMention","hasMentionNubbinColor","isImportantColor","badgeShadow","badgeTextColor","height","padding","reactionGroup"],"mappings":";;;;;;;;;AAGA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAGA,IAAMA,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,aAAD;AAAA,SAA4D;AACpF;AACAC,IAAAA,MAAM,EAAED,aAF4E;AAGpFE,IAAAA,QAAQ,EAAE,SAH0E;AAIpF;AACA;AACAC,IAAAA,OAAO,EAAE,CAN2E;AAOpFC,IAAAA,KAAK,EAAE;AAP6E,GAA5D;AAAA,CAA1B;;AAUA,IAAMC,wBAGL,GAAG;AACFC,EAAAA,KAAK,EAAEC,8CADL;AAEFC,EAAAA,OAAO,EAAEC;AAFP,CAHJ;;AAQA,IAAMC,2BAA2B,GAAG,SAA9BA,2BAA8B,CAACC,OAAD;AAAA,MAACA,OAAD;AAACA,IAAAA,OAAD,GAAwBC,+BAAxB;AAAA;;AAAA,SAA+CP,wBAAwB,CAACM,OAAD,CAAvE;AAAA,CAApC;;AAEO,IAAME,iBAA4F,GAAG;AAC1GC,EAAAA,IAAI,EAAE,cAACC,2BAAD,EAAgD;AAAA;;AACpD,QACSC,CADT,GAIID,2BAJJ,CACEE,KADF;AAAA,QAEaC,CAFb,GAIIH,2BAJJ,CAEEI,SAFF;AAAA,QAGWC,aAHX,GAIIL,2BAJJ,CAGEM,KAHF,CAGWD,aAHX;AAKA;AACEE,MAAAA,YAAY,EAAEJ,CAAC,CAACI,YADlB;AAEEC,MAAAA,OAAO,EAAE,cAFX;AAGEC,MAAAA,OAAO,EAAE,CAHX;AAIEC,MAAAA,QAAQ,EAAE,UAJZ;AAKEC,MAAAA,SAAS,EAAE,YALb;AAMEC,MAAAA,QAAQ,EAAE;AANZ,OAQK,gDAAqB;AAAEL,MAAAA,YAAY,EAAE,SAAhB;AAA2BH,MAAAA,SAAS,EAAEC;AAAtC,KAArB,CARL,EAaM,qBAAMF,CAAC,CAACU,cAAR,KACFZ,CAAC,CAACa,aADA;AAEA,6CACSC,uCAA0BC,UADnC,IACkDhC,iBAAiB,CAACmB,CAAC,CAAClB,aAAH,CADnE;AAFA,OAKIgB,CAAC,CAACY,cAAF,6BACKE,uCAA0BC,UAD/B,IAC8ChC,iBAAiB,CAACmB,CAAC,CAAClB,aAAH,CAD/D,OALJ,CAbN,2BAuBK,0BAAAU,2BAA2B,CAACM,CAAC,CAACL,OAAH,CAA3B,EAAuCG,IAvB5C,qBAuBK,mDAA8CC,2BAA9C,CAvBL;AAyBD,GAhCyG;AAkC1GgB,EAAAA,UAAU,EAAE,2BAA+C;AAAA,QAArCf,CAAqC,SAA5CC,KAA4C;AAAA,QAAvBC,CAAuB,SAAlCC,SAAkC;AACzD,QAAMa,qBAAqB,GAAGhB,CAAC,CAACa,aAAF,KAAoBb,CAAC,CAACiB,OAAF,IAAajB,CAAC,CAACY,cAAnC,CAA9B;AACA,QAAMA,cAAc,GAAG,qBAAMV,CAAC,CAACU,cAAR,IAA0BI,qBAA1B,GAAkDd,CAAC,CAACU,cAA3E;AAEA;AACEM,MAAAA,eAAe,EAAEhB,CAAC,CAACgB,eADrB;AAEEC,MAAAA,MAAM,EAAE,WAFV;AAGEC,MAAAA,WAAW,EAAElB,CAAC,CAACmB,wBAHjB;AAIEf,MAAAA,YAAY,EAAEJ,CAAC,CAACI,YAJlB;AAKEgB,MAAAA,SAAS,EAAEpB,CAAC,CAACqB,mBALf;AAME,+BAAyB;AAAEpC,QAAAA,OAAO,EAAE;AAAX,OAN3B;AAQEF,MAAAA,MAAM,EAAE,CAAC,CARX;AASEC,MAAAA,QAAQ,EAAE,QATZ;AAUEC,MAAAA,OAAO,EAAE,CAVX;AAWEC,MAAAA,KAAK,EAAE;AAXT,OAYMwB,cAAc,IAAI7B,iBAAiB,CAACmB,CAAC,CAAClB,aAAH,CAZzC;AAcD,GApDyG;AAsD1GwC,EAAAA,MAAM,EAAE,gBAACzB,2BAAD,EAAgD;AAAA;;AACtD,QAAeC,CAAf,GAAqBD,2BAArB,CAAQE,KAAR;AACA,qCAAO,0BAAAP,2BAA2B,CAACM,CAAC,CAACL,OAAH,CAA3B,EAAuC6B,MAA9C,qBAAO,oDAAgDzB,2BAAhD,CAAP;AACD,GAzDyG;AA2D1G0B,EAAAA,WAAW,EAAE,qBAAC1B,2BAAD,EAAgD;AAAA;;AAC3D,QAAeC,CAAf,GAAqBD,2BAArB,CAAQE,KAAR;AACA,qCAAO,0BAAAP,2BAA2B,CAACM,CAAC,CAACL,OAAH,CAA3B,EAAuC8B,WAA9C,qBAAO,oDAAqD1B,2BAArD,CAAP;AACD,GA9DyG;AAgE1G2B,EAAAA,SAAS,EAAE,mBAAC3B,2BAAD,EAAgD;AAAA;;AACzD,QAAeC,CAAf,GAAqBD,2BAArB,CAAQE,KAAR;AACA;AACEM,MAAAA,OAAO,EAAE;AADX,iCAEK,0BAAAb,2BAA2B,CAACM,CAAC,CAACL,OAAH,CAA3B,EAAuC+B,SAF5C,qBAEK,oDAAmD3B,2BAAnD,CAFL;AAID,GAtEyG;AAwE1G4B,EAAAA,OAAO,EAAE,iBAAC5B,2BAAD,EAAgD;AAAA;;AACvD,QAAeC,CAAf,GAAmCD,2BAAnC,CAAQE,KAAR;AAAA,QAA6BC,CAA7B,GAAmCH,2BAAnC,CAAkBI,SAAlB;AACA;AACEyB,MAAAA,KAAK,EAAE1B,CAAC,CAAC2B,YADX;AAEEtB,MAAAA,OAAO,EAAE,OAFX;AAGE,aAAO;AACLC,QAAAA,OAAO,EAAE,MADJ;AAELoB,QAAAA,KAAK,EAAE5B,CAAC,CAAC8B,IAAF,GAAS5B,CAAC,CAAC6B,aAAX,GAA2B7B,CAAC,CAAC8B,SAF/B;AAGL,kBAAU;AACRC,UAAAA,cAAc,EAAE;AADR;AAHL;AAHT,iCAUK,2BAAAvC,2BAA2B,CAACM,CAAC,CAACL,OAAH,CAA3B,EAAuCgC,OAV5C,qBAUK,qDAAiD5B,2BAAjD,CAVL;AAYD,GAtFyG;AAwF1GmC,EAAAA,KAAK,EAAE,eAACnC,2BAAD,EAAgD;AAAA;;AACrD,QAAeC,CAAf,GAAmCD,2BAAnC,CAAQE,KAAR;AAAA,QAA6BC,CAA7B,GAAmCH,2BAAnC,CAAkBI,SAAlB;AACA;AACEe,MAAAA,eAAe,EAAEhB,CAAC,CAACiC,UAAF,GAAejC,CAAC,CAACkC,qBAAjB,GAAyClC,CAAC,CAACmC,gBAD9D;AAEE/B,MAAAA,YAAY,EAAE,KAFhB;AAGEgB,MAAAA,SAAS,EAAEpB,CAAC,CAACoC,WAHf;AAIEV,MAAAA,KAAK,EAAE1B,CAAC,CAACqC,cAJX;AAKEC,MAAAA,MAAM,EAAE,MALV;AAMEC,MAAAA,OAAO,EAAE,oBAAQ,CAAR,CANX;AAOErD,MAAAA,KAAK,EAAE,MAPT;AAQEH,MAAAA,MAAM,EAAEiB,CAAC,CAACjB,MARZ;AASE,0BAAoB;AAAEsB,QAAAA,OAAO,EAAE;AAAX;AATtB,kCAUK,2BAAAb,2BAA2B,CAACM,CAAC,CAACL,OAAH,CAA3B,EAAuCuC,KAV5C,qBAUK,sDAA+CnC,2BAA/C,CAVL;AAYD,GAtGyG;AAwG1G2C,EAAAA,aAAa,EAAE,uBAAC3C,2BAAD,EAAgD;AAAA;;AAC7D,QAAeC,CAAf,GAAqBD,2BAArB,CAAQE,KAAR;AACA,sCAAO,2BAAAP,2BAA2B,CAACM,CAAC,CAACL,OAAH,CAA3B,EAAuC+C,aAA9C,qBAAO,sDAAuD3C,2BAAvD,CAAP;AACD;AA3GyG,CAArG","sourcesContent":["import { ComponentSlotStylesPrepared, ICSSInJSStyle } from '@fluentui/styles';\nimport { isNil } from 'lodash';\n\nimport { ChatDensity, defaultChatDensity } from '../../../../components/Chat/chatDensity';\nimport { chatMessageSlotClassNames, ChatMessageStylesProps } from '../../../../components/Chat/ChatMessage';\nimport { pxToRem } from '../../../../utils';\nimport { getBorderFocusStyles } from '../../getBorderFocusStyles';\nimport { chatMessageStylesComfy } from './chatMessageStylesComfy';\nimport { chatMessageStylesCompact } from './chatMessageStylesCompact';\nimport { ChatMessageVariables } from './chatMessageVariables';\n\nconst displayActionMenu = (overlayZIndex: ICSSInJSStyle['zIndex']): ICSSInJSStyle => ({\n  // we need higher zIndex for the action menu in order to be displayed above the focus border of the chat message\n  zIndex: overlayZIndex,\n  overflow: 'visible',\n  // opacity should always be preferred over visibility in order to avoid accessibility bugs in\n  // JAWS behavior on Windows\n  opacity: 1,\n  width: 'auto',\n});\n\nconst chatMessageDensityStyles: Record<\n  ChatDensity,\n  ComponentSlotStylesPrepared<ChatMessageStylesProps, ChatMessageVariables>\n> = {\n  comfy: chatMessageStylesComfy,\n  compact: chatMessageStylesCompact,\n};\n\nconst getChatMessageDensityStyles = (density: ChatDensity = defaultChatDensity) => chatMessageDensityStyles[density];\n\nexport const chatMessageStyles: ComponentSlotStylesPrepared<ChatMessageStylesProps, ChatMessageVariables> = {\n  root: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const {\n      props: p,\n      variables: v,\n      theme: { siteVariables },\n    } = componentStyleFunctionParam;\n    return {\n      borderRadius: v.borderRadius,\n      display: 'inline-block',\n      outline: 0,\n      position: 'relative',\n      wordBreak: 'break-word',\n      wordWrap: 'break-word',\n\n      ...getBorderFocusStyles({ borderRadius: 'inherit', variables: siteVariables }),\n\n      // ActionMenu's appearance can be controlled by the value of showActionMenu variable - in this\n      // case this variable will serve the single source of truth on whether actions menu should be shown.\n      // Otherwise, if the variable is not provided, the default appearance logic will be used for actions menu.\n      ...(isNil(v.showActionMenu) &&\n        p.hasActionMenu && {\n          ':hover': {\n            [`> .${chatMessageSlotClassNames.actionMenu}`]: displayActionMenu(v.overlayZIndex),\n          },\n          ...(p.showActionMenu && {\n            [`> .${chatMessageSlotClassNames.actionMenu}`]: displayActionMenu(v.overlayZIndex),\n          }),\n        }),\n\n      ...getChatMessageDensityStyles(p.density).root?.(componentStyleFunctionParam),\n    };\n  },\n\n  actionMenu: ({ props: p, variables: v }): ICSSInJSStyle => {\n    const defaultShowActionMenu = p.hasActionMenu && (p.focused || p.showActionMenu);\n    const showActionMenu = isNil(v.showActionMenu) ? defaultShowActionMenu : v.showActionMenu;\n\n    return {\n      backgroundColor: v.backgroundColor,\n      border: '1px solid',\n      borderColor: v.reactionGroupBorderColor,\n      borderRadius: v.borderRadius,\n      boxShadow: v.actionMenuBoxShadow,\n      '[data-popper-escaped]': { opacity: 0 },\n\n      zIndex: -1,\n      overflow: 'hidden',\n      opacity: 0,\n      width: 0,\n      ...(showActionMenu && displayActionMenu(v.overlayZIndex)),\n    };\n  },\n\n  author: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return getChatMessageDensityStyles(p.density).author?.(componentStyleFunctionParam);\n  },\n\n  compactBody: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return getChatMessageDensityStyles(p.density).compactBody?.(componentStyleFunctionParam);\n  },\n\n  timestamp: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return {\n      display: 'inline-block',\n      ...getChatMessageDensityStyles(p.density).timestamp?.(componentStyleFunctionParam),\n    };\n  },\n\n  content: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p, variables: v } = componentStyleFunctionParam;\n    return {\n      color: v.contentColor,\n      display: 'block',\n      '& a': {\n        outline: 'none',\n        color: p.mine ? v.linkColorMine : v.linkColor,\n        ':focus': {\n          textDecoration: 'underline',\n        },\n      },\n      ...getChatMessageDensityStyles(p.density).content?.(componentStyleFunctionParam),\n    };\n  },\n\n  badge: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p, variables: v } = componentStyleFunctionParam;\n    return {\n      backgroundColor: v.hasMention ? v.hasMentionNubbinColor : v.isImportantColor,\n      borderRadius: '50%',\n      boxShadow: v.badgeShadow,\n      color: v.badgeTextColor,\n      height: 'auto',\n      padding: pxToRem(4),\n      width: 'auto',\n      zIndex: v.zIndex,\n      '& > :first-child': { display: 'inline-flex' },\n      ...getChatMessageDensityStyles(p.density).badge?.(componentStyleFunctionParam),\n    };\n  },\n\n  reactionGroup: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return getChatMessageDensityStyles(p.density).reactionGroup?.(componentStyleFunctionParam);\n  },\n};\n"],"file":"chatMessageStyles.js"}