{"version":3,"sources":["components/Dialog/Dialog.tsx"],"names":["dialogBehavior","getCode","keyboardKey","useAutoControlled","useTelemetry","useAccessibility","useStyles","useFluentContext","useUnhandledProps","getElementType","Unstable_NestingAuto","EventListener","Ref","customPropTypes","PropTypes","React","disableBodyScroll","enableBodyScroll","commonPropTypes","doesNodeContainClick","getOrGenerateIdFromShorthand","createShorthand","createShorthandFactory","Button","ButtonGroup","Box","Header","Portal","Flex","DialogFooter","dialogClassName","dialogSlotClassNames","header","headerAction","content","overlay","footer","Dialog","forwardRef","props","ref","context","displayName","telemetry","setStart","setEnd","accessibility","actions","cancelButton","closeOnOutsideClick","confirmButton","trapFocus","trigger","backdrop","className","design","styles","variables","ElementType","unhandledProps","handledProps","contentRef","useRef","overlayRef","triggerRef","contentId","current","headerId","getA11yProps","debugName","actionHandlers","closeAndFocusTrigger","e","handleDialogCancel","stopPropagation","close","mapPropsToBehavior","rtl","mapPropsToStyles","mapPropsToInlineStyles","classes","resolvedStyles","defaultValue","defaultOpen","value","open","initialValue","setOpen","useEffect","target","handleDialogConfirm","handleDialogOpen","handleCancelButtonOverrides","predefinedProps","onClick","buttonProps","handleConfirmButtonOverrides","handleOverlayClick","isInsideContentClick","isInsideOverlayClick","shouldClose","handleDocumentKeydown","getRefs","lastOverlayRef","pop","isLastOpenedDialog","targetIsBody","nodeName","Escape","cancelElement","overrideProps","confirmElement","defaultProps","primary","dialogActions","create","dialogContent","root","as","text","iconOnly","triggerAccessibility","attributes","keyHandlers","keyActions","element","nestingRef","contentNode","propTypes","createCommon","children","itemShorthand","bool","onCancel","func","onConfirm","onOpen","oneOfType","object","any","Object","keys","Footer","Component"],"mappings":"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","sourcesContent":["import { Accessibility, dialogBehavior, DialogBehaviorProps, getCode, keyboardKey } from '@fluentui/accessibility';\nimport {\n  FocusTrapZoneProps,\n  useAutoControlled,\n  useTelemetry,\n  useAccessibility,\n  useStyles,\n  useFluentContext,\n  useUnhandledProps,\n  getElementType,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\nimport { Unstable_NestingAuto } from '@fluentui/react-component-nesting-registry';\nimport { EventListener } from '@fluentui/react-component-event-listener';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';\n\nimport {\n  UIComponentProps,\n  commonPropTypes,\n  ContentComponentProps,\n  doesNodeContainClick,\n  getOrGenerateIdFromShorthand,\n  createShorthand,\n  createShorthandFactory,\n} from '../../utils';\nimport { ComponentEventHandler, ShorthandValue, FluentComponentStaticProps } from '../../types';\nimport { Button, ButtonProps } from '../Button/Button';\nimport { ButtonGroup } from '../Button/ButtonGroup';\nimport { Box, BoxProps } from '../Box/Box';\nimport { Header, HeaderProps } from '../Header/Header';\nimport { Portal, TriggerAccessibility } from '../Portal/Portal';\nimport { Flex } from '../Flex/Flex';\nimport { DialogFooter, DialogFooterProps } from './DialogFooter';\n\nexport interface DialogSlotClassNames {\n  header: string;\n  headerAction: string;\n  content: string;\n  overlay: string;\n  footer: string;\n}\n\nexport interface DialogProps extends UIComponentProps, ContentComponentProps<ShorthandValue<BoxProps>> {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility;\n\n  /** A dialog can contain actions. */\n  actions?: ShorthandValue<BoxProps>;\n\n  /** A dialog can have a backdrop on its overlay. */\n  backdrop?: boolean;\n\n  /** A dialog can contain a cancel button. */\n  cancelButton?: ShorthandValue<ButtonProps>;\n\n  /** A dialog can be closed when a user clicks outside of it. */\n  closeOnOutsideClick?: boolean;\n\n  /** A dialog can contain a confirm button. */\n  confirmButton?: ShorthandValue<ButtonProps>;\n\n  /** A dialog can be open by default. */\n  defaultOpen?: boolean;\n\n  /** A dialog can contain a header. */\n  header?: ShorthandValue<HeaderProps>;\n\n  /** A dialog can contain a button next to the header. */\n  headerAction?: ShorthandValue<ButtonProps>;\n\n  /** A dialog can contain a footer. */\n  footer?: ShorthandValue<DialogFooterProps>;\n\n  /**\n   * Called after a user clicks the cancel button.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onCancel?: ComponentEventHandler<DialogProps>;\n\n  /**\n   * Called after a user clicks the confirm button.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onConfirm?: ComponentEventHandler<DialogProps>;\n\n  /**\n   * Called after a user opens the dialog.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onOpen?: ComponentEventHandler<DialogProps>;\n\n  /** A dialog's open state can be controlled. */\n  open?: boolean;\n\n  /** A dialog can contain a overlay. */\n  overlay?: ShorthandValue<BoxProps>;\n\n  /** Controls whether or not focus trap should be applied, using boolean or FocusTrapZoneProps type value. */\n  trapFocus?: boolean | FocusTrapZoneProps;\n\n  /** Element to be rendered in-place where the dialog is defined. */\n  trigger?: JSX.Element;\n}\n\nexport interface DialogState {\n  contentId?: string;\n  headerId?: string;\n  open?: boolean;\n}\n\nexport const dialogClassName = 'ui-dialog';\nexport const dialogSlotClassNames: DialogSlotClassNames = {\n  header: `${dialogClassName}__header`,\n  headerAction: `${dialogClassName}__headerAction`,\n  content: `${dialogClassName}__content`,\n  overlay: `${dialogClassName}__overlay`,\n  footer: `${dialogClassName}__footer`,\n};\n\nexport type DialogStylesProps = Required<Pick<DialogProps, 'backdrop'>>;\n\n/**\n * A Dialog displays important information on top of a page which requires a user's attention, confirmation, or interaction.\n * Dialogs are purposefully interruptive, so they should be used sparingly.\n *\n * @accessibility\n * Implements [ARIA Dialog (Modal)](https://www.w3.org/TR/wai-aria-practices-1.1/#dialog_modal) design pattern.\n * @accessibilityIssues\n * [NVDA narrates dialog title and button twice](https://github.com/nvaccess/nvda/issues/10003)\n * [NVDA does not recognize the ARIA 1.1 values of aria-haspopup](https://github.com/nvaccess/nvda/issues/8235)\n * [Jaws does not announce token values of aria-haspopup](https://github.com/FreedomScientific/VFO-standards-support/issues/33)\n * [Issue 989517: VoiceOver narrates dialog content and button twice](https://bugs.chromium.org/p/chromium/issues/detail?id=989517)\n */\nexport const Dialog = (React.forwardRef<HTMLDivElement, DialogProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(Dialog.displayName, context.telemetry);\n  setStart();\n\n  const {\n    accessibility,\n    content,\n    header,\n    actions,\n    cancelButton,\n    closeOnOutsideClick,\n    confirmButton,\n    headerAction,\n    overlay,\n    trapFocus,\n    trigger,\n    footer,\n    backdrop,\n    className,\n    design,\n    styles,\n    variables,\n  } = props;\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(Dialog.handledProps, props);\n\n  const contentRef = React.useRef<HTMLElement>();\n  const overlayRef = React.useRef<HTMLElement>();\n  const triggerRef = React.useRef<HTMLElement>();\n\n  const contentId = React.useRef<string>();\n  contentId.current = getOrGenerateIdFromShorthand('dialog-content-', content, contentId.current);\n  const headerId = React.useRef<string>();\n  headerId.current = getOrGenerateIdFromShorthand('dialog-header-', header, headerId.current);\n\n  const getA11yProps = useAccessibility<DialogBehaviorProps>(accessibility, {\n    debugName: Dialog.displayName,\n    actionHandlers: {\n      closeAndFocusTrigger: e => {\n        handleDialogCancel(e);\n        e.stopPropagation();\n\n        _.invoke(triggerRef, 'current.focus');\n      },\n      close: e => handleDialogCancel(e),\n    },\n    mapPropsToBehavior: () => ({\n      headerId: headerId.current,\n      contentId: contentId.current,\n      trapFocus,\n      trigger,\n    }),\n    rtl: context.rtl,\n  });\n\n  const { classes, styles: resolvedStyles } = useStyles<DialogStylesProps>(Dialog.displayName, {\n    className: dialogClassName,\n    mapPropsToStyles: () => ({\n      backdrop,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const [open, setOpen] = useAutoControlled({\n    defaultValue: props.defaultOpen,\n    value: props.open,\n    initialValue: false,\n  });\n\n  React.useEffect(() => {\n    const target = contentRef?.current;\n    if (open) {\n      disableBodyScroll(target);\n    }\n    return () => {\n      if (open) {\n        enableBodyScroll(target);\n      }\n    };\n  }, [open]);\n\n  const handleDialogCancel = (e: Event | React.SyntheticEvent) => {\n    _.invoke(props, 'onCancel', e, { ...props, open: false });\n    setOpen(false);\n  };\n\n  const handleDialogConfirm = (e: React.SyntheticEvent) => {\n    _.invoke(props, 'onConfirm', e, { ...props, open: false });\n    setOpen(false);\n  };\n\n  const handleDialogOpen = (e: React.SyntheticEvent) => {\n    _.invoke(props, 'onOpen', e, { ...props, open: true });\n    setOpen(true);\n  };\n\n  const handleCancelButtonOverrides = (predefinedProps: ButtonProps) => ({\n    onClick: (e: React.SyntheticEvent, buttonProps: ButtonProps) => {\n      _.invoke(predefinedProps, 'onClick', e, buttonProps);\n      handleDialogCancel(e);\n    },\n  });\n\n  const handleConfirmButtonOverrides = (predefinedProps: ButtonProps) => ({\n    onClick: (e: React.SyntheticEvent, buttonProps: ButtonProps) => {\n      _.invoke(predefinedProps, 'onClick', e, buttonProps);\n      handleDialogConfirm(e);\n    },\n  });\n\n  const handleOverlayClick = (e: MouseEvent) => {\n    // Dialog has different conditions to close than Popup, so we don't need to iterate across all\n    // refs\n    const isInsideContentClick = doesNodeContainClick(contentRef.current, e, context.target);\n    const isInsideOverlayClick = doesNodeContainClick(overlayRef.current, e, context.target);\n\n    const shouldClose = !isInsideContentClick && isInsideOverlayClick;\n\n    if (shouldClose) {\n      handleDialogCancel(e);\n    }\n  };\n\n  const handleDocumentKeydown = (getRefs: Function) => (e: KeyboardEvent) => {\n    // if focus was lost from Dialog, for e.g. when click on Dialog's content\n    // and ESC is pressed, the opened Dialog should get closed and the trigger should get focus\n    const lastOverlayRef = getRefs().pop();\n    const isLastOpenedDialog: boolean = lastOverlayRef && lastOverlayRef.current === overlayRef.current;\n    const targetIsBody = (e.target as HTMLElement).nodeName === 'BODY';\n\n    if (targetIsBody && getCode(e) === keyboardKey.Escape && isLastOpenedDialog) {\n      handleDialogCancel(e);\n      _.invoke(triggerRef, 'current.focus');\n    }\n  };\n\n  const cancelElement = createShorthand(Button, cancelButton, {\n    overrideProps: handleCancelButtonOverrides,\n  });\n\n  const confirmElement = createShorthand(Button, confirmButton, {\n    defaultProps: () => ({\n      primary: true,\n    }),\n    overrideProps: handleConfirmButtonOverrides,\n  });\n\n  const dialogActions =\n    (cancelElement || confirmElement) &&\n    ButtonGroup.create(actions, {\n      defaultProps: () => ({\n        styles: resolvedStyles.actions,\n      }),\n      overrideProps: {\n        content: (\n          <Flex gap=\"gap.smaller\" hAlign=\"end\">\n            {cancelElement}\n            {confirmElement}\n          </Flex>\n        ),\n      },\n    });\n\n  const dialogContent = (\n    <Ref innerRef={contentRef}>\n      <ElementType\n        {...getA11yProps('popup', {\n          className: classes.root,\n          ref,\n          ...unhandledProps,\n        })}\n      >\n        {Header.create(header, {\n          defaultProps: () =>\n            getA11yProps('header', {\n              as: 'h2',\n              className: dialogSlotClassNames.header,\n              styles: resolvedStyles.header,\n            }),\n        })}\n        {createShorthand(Button, headerAction, {\n          defaultProps: () =>\n            getA11yProps('headerAction', {\n              className: dialogSlotClassNames.headerAction,\n              styles: resolvedStyles.headerAction,\n              text: true,\n              iconOnly: true,\n            }),\n        })}\n        {Box.create(content, {\n          defaultProps: () =>\n            getA11yProps('content', {\n              styles: resolvedStyles.content,\n              className: dialogSlotClassNames.content,\n            }),\n        })}\n        {DialogFooter.create(footer, {\n          overrideProps: {\n            content: dialogActions,\n            className: dialogSlotClassNames.footer,\n            styles: resolvedStyles.footer,\n          },\n        })}\n      </ElementType>\n    </Ref>\n  );\n\n  const triggerAccessibility: TriggerAccessibility = {\n    // refactor this when unstable_behaviorDefinition gets merged\n    attributes: accessibility(props).attributes.trigger,\n    keyHandlers: accessibility(props).keyActions.trigger,\n  };\n\n  const element = (\n    <Portal\n      onTriggerClick={handleDialogOpen}\n      open={open}\n      trapFocus={trapFocus}\n      trigger={trigger}\n      triggerAccessibility={triggerAccessibility}\n      triggerRef={triggerRef}\n    >\n      <Unstable_NestingAuto>\n        {(getRefs, nestingRef) => (\n          <>\n            <Ref\n              innerRef={(contentNode: HTMLElement) => {\n                overlayRef.current = contentNode;\n                nestingRef.current = contentNode;\n              }}\n            >\n              {Box.create(overlay, {\n                defaultProps: () => ({\n                  className: dialogSlotClassNames.overlay,\n                  styles: resolvedStyles.overlay,\n                }),\n                overrideProps: { content: dialogContent },\n              })}\n            </Ref>\n\n            {closeOnOutsideClick && (\n              <EventListener listener={handleOverlayClick} target={context.target} type=\"click\" capture />\n            )}\n            <EventListener listener={handleDocumentKeydown(getRefs)} target={context.target} type=\"keydown\" capture />\n          </>\n        )}\n      </Unstable_NestingAuto>\n    </Portal>\n  );\n  setEnd();\n  return element;\n}) as unknown) as ForwardRefWithAs<'div', HTMLDivElement, DialogProps> &\n  FluentComponentStaticProps<DialogProps> & {\n    Footer: typeof DialogFooter;\n  };\n\nDialog.displayName = 'Dialog';\n\nDialog.propTypes = {\n  ...commonPropTypes.createCommon({\n    children: false,\n    content: 'shorthand',\n  }),\n  actions: customPropTypes.itemShorthand,\n  backdrop: PropTypes.bool,\n  headerAction: customPropTypes.itemShorthand,\n  cancelButton: customPropTypes.itemShorthand,\n  closeOnOutsideClick: PropTypes.bool,\n  confirmButton: customPropTypes.itemShorthand,\n  defaultOpen: PropTypes.bool,\n  header: customPropTypes.itemShorthand,\n  onCancel: PropTypes.func,\n  onConfirm: PropTypes.func,\n  onOpen: PropTypes.func,\n  open: PropTypes.bool,\n  overlay: customPropTypes.itemShorthand,\n  trapFocus: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  trigger: PropTypes.any,\n};\n\nDialog.defaultProps = {\n  accessibility: dialogBehavior,\n  actions: {},\n  backdrop: true,\n  closeOnOutsideClick: true,\n  overlay: {},\n  footer: {},\n  trapFocus: true,\n};\n\nDialog.handledProps = Object.keys(Dialog.propTypes) as any;\n\nDialog.Footer = DialogFooter;\n\nDialog.create = createShorthandFactory({\n  Component: Dialog,\n});\n"],"file":"Dialog.js"}