{"version":3,"sources":["components/Table/TableCell.tsx"],"names":["customPropTypes","tableCellBehavior","Ref","PropTypes","React","childrenExist","commonPropTypes","createShorthandFactory","useTelemetry","useStyles","useFluentContext","getElementType","useUnhandledProps","useAccessibility","Box","tableCellClassName","tableCellSlotClassNames","content","TableCell","forwardRef","props","ref","context","displayName","telemetry","setStart","setEnd","cellRef","useRef","children","truncateContent","className","design","styles","variables","hasChildren","ElementType","unhandledProps","handledProps","getA11yProps","accessibility","debugName","actionHandlers","focusCell","e","preventDefault","current","focus","performClick","currentTarget","target","rtl","mapPropsToStyles","mapPropsToInlineStyles","classes","resolvedStyles","element","unstable_wrapWithFocusZone","root","create","defaultProps","propTypes","createCommon","every","disallow","oneOfType","arrayOf","nodeContent","bool","Object","keys","Component","mappedProp"],"mappings":"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","sourcesContent":["import * as customPropTypes from '@fluentui/react-proptypes';\nimport { Accessibility, tableCellBehavior, TableCellBehaviorProps } from '@fluentui/accessibility';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport * as _ from 'lodash';\nimport {\n  childrenExist,\n  ChildrenComponentProps,\n  commonPropTypes,\n  ContentComponentProps,\n  createShorthandFactory,\n  UIComponentProps,\n} from '../../utils';\nimport {\n  useTelemetry,\n  useStyles,\n  useFluentContext,\n  getElementType,\n  useUnhandledProps,\n  useAccessibility,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\n\nimport { Box, BoxProps } from '../Box/Box';\nimport { ShorthandValue, FluentComponentStaticProps } from '../../types';\n\nexport interface TableCellProps\n  extends UIComponentProps,\n    ChildrenComponentProps,\n    ContentComponentProps<ShorthandValue<BoxProps>> {\n  /**\n   * Accessibility behavior if overridden by the user.\n   * @available TableCellBehavior\n   * */\n  accessibility?: Accessibility<TableCellBehaviorProps>;\n\n  /**\n   * Truncate cell's content\n   */\n  truncateContent?: boolean;\n}\n\nexport type TableCellStylesProps = Pick<TableCellProps, 'truncateContent'>;\n\nexport interface TableCellSlotClassNames {\n  content: string;\n}\n\nexport const tableCellClassName = 'ui-table__cell';\nexport const tableCellSlotClassNames: TableCellSlotClassNames = {\n  content: `${tableCellClassName}__content`,\n};\n\n/**\n * Component represents a table cell.\n */\nexport const TableCell = (React.forwardRef<HTMLDivElement, TableCellProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(TableCell.displayName, context.telemetry);\n  setStart();\n  const cellRef = React.useRef<HTMLElement>();\n\n  const { children, content, truncateContent, className, design, styles, variables } = props;\n  const hasChildren = childrenExist(children);\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(TableCell.handledProps, props);\n  const getA11yProps = useAccessibility(props.accessibility, {\n    debugName: TableCell.displayName,\n    actionHandlers: {\n      focusCell: e => {\n        e.preventDefault();\n        cellRef.current.focus();\n      },\n      performClick: e => {\n        if (e.currentTarget === e.target) {\n          _.invoke(props, 'onClick', e, props);\n          e.preventDefault();\n        }\n      },\n    },\n    rtl: context.rtl,\n  });\n\n  const { classes, styles: resolvedStyles } = useStyles<TableCellStylesProps>(TableCell.displayName, {\n    className: tableCellClassName,\n    mapPropsToStyles: () => ({\n      truncateContent,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const element = (\n    <Ref innerRef={cellRef}>\n      {getA11yProps.unstable_wrapWithFocusZone(\n        <ElementType\n          {...getA11yProps('root', {\n            className: classes.root,\n            ref,\n            ...unhandledProps,\n          })}\n        >\n          {hasChildren\n            ? children\n            : Box.create(content, {\n                defaultProps: () => ({ className: tableCellSlotClassNames.content, styles: resolvedStyles.content }),\n              })}\n        </ElementType>,\n      )}\n    </Ref>\n  );\n  setEnd();\n  return element;\n}) as unknown) as ForwardRefWithAs<'div', HTMLDivElement, TableCellProps> & FluentComponentStaticProps<TableCellProps>;\n\nTableCell.displayName = 'TableCell';\n\nTableCell.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  content: customPropTypes.every([\n    customPropTypes.disallow(['children']),\n    PropTypes.oneOfType([PropTypes.arrayOf(customPropTypes.nodeContent), customPropTypes.nodeContent]),\n  ]),\n  truncateContent: PropTypes.bool,\n};\n\nTableCell.handledProps = Object.keys(TableCell.propTypes) as any;\n\nTableCell.defaultProps = {\n  accessibility: tableCellBehavior,\n};\n\nTableCell.create = createShorthandFactory({ Component: TableCell, mappedProp: 'content' });\n"],"file":"TableCell.js"}