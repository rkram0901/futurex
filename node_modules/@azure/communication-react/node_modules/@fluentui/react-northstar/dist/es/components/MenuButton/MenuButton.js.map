{"version":3,"sources":["components/MenuButton/MenuButton.tsx"],"names":["React","PropTypes","menuButtonBehavior","Ref","customPropTypes","commonPropTypes","getOrGenerateIdFromShorthand","createShorthandFactory","Popup","Menu","focusMenuItem","ALIGNMENTS","POSITIONS","AUTOSIZES","useAccessibility","useTelemetry","getElementType","useUnhandledProps","useFluentContext","useAutoControlled","useStyles","useOnIFrameFocus","menuButtonClassName","menuButtonSlotClassNames","menu","MenuButton","forwardRef","props","ref","context","displayName","telemetry","setStart","setEnd","contextMenu","accessibility","align","className","defaultOpen","flipBoundary","mountNode","mouseLeaveDelay","offset","on","onOpenChange","overflowBoundary","pointing","popperRef","position","positionFixed","tabbableTrigger","target","trigger","unstable_disableTether","unstable_pinned","autoSize","variables","defaultValue","value","open","initialValue","setOpen","e","__","menuId","useRef","current","triggerId","triggerRef","menuRef","ElementType","unhandledProps","handledProps","getA11yProps","debugName","actionHandlers","closeMenu","openAndFocusFirst","openAndFocus","openAndFocusLast","mapPropsToBehavior","rtl","popupProps","mapPropsToInlineStyles","styles","classes","resolvedStyles","handleOpenChange","which","preventDefault","callback","handleMenuOverrides","predefinedProps","onItemClick","itemProps","onKeyDown","key","stopPropagation","content","create","defaultProps","vertical","overrideProps","unstable_behaviorDefinition","popupContent","children","undefined","trapFocus","inline","autoFocus","popup","element","unstable_wrapWithFocusZone","root","propTypes","createCommon","oneOf","bool","domNode","number","oneOfType","func","arrayOf","object","onMenuItemClick","any","every","disallow","itemShorthandWithoutJSX","Object","keys","Component","mappedProp"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport * as _ from 'lodash';\nimport { Accessibility, menuButtonBehavior, MenuButtonBehaviorProps } from '@fluentui/accessibility';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as customPropTypes from '@fluentui/react-proptypes';\n\nimport { commonPropTypes, StyledComponentProps, getOrGenerateIdFromShorthand } from '../../utils';\nimport { ShorthandValue, ComponentEventHandler, ShorthandCollection, FluentComponentStaticProps } from '../../types';\n\nimport { createShorthandFactory } from '../../utils/factories';\nimport { Popup, PopupProps, PopupEvents, PopupEventsArray } from '../Popup/Popup';\nimport { Menu, MenuProps } from '../Menu/Menu';\nimport { MenuItemProps } from '../Menu/MenuItem';\nimport { focusMenuItem } from './focusUtils';\nimport { ALIGNMENTS, POSITIONS, PositioningProps, AutoSize, AUTOSIZES } from '../../utils/positioner';\nimport {\n  useAccessibility,\n  useTelemetry,\n  getElementType,\n  useUnhandledProps,\n  useFluentContext,\n  useAutoControlled,\n  useStyles,\n  useOnIFrameFocus,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\n\nexport interface MenuButtonSlotClassNames {\n  menu: string;\n}\n\nexport interface MenuButtonProps extends StyledComponentProps<MenuButtonProps>, PositioningProps {\n  /**\n   * Accessibility behavior if overridden by the user.\n   * @default menuButtonBehavior\n   */\n  accessibility?: Accessibility<MenuButtonBehaviorProps>;\n\n  /** Additional CSS class name(s) to apply.  */\n  className?: string;\n\n  /** Initial value for 'open'. */\n  defaultOpen?: boolean;\n\n  /** Existing element the popup should be bound to. */\n  mountNode?: HTMLElement;\n\n  /** Delay in ms for the mouse leave event, before the popup will be closed. */\n  mouseLeaveDelay?: number;\n\n  /** Events triggering the popup. */\n  on?: PopupEvents | PopupEventsArray;\n\n  /** Defines whether popup is displayed. */\n  open?: boolean;\n\n  /**\n   * Called after user's click on a menu item.\n   *\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onMenuItemClick?: ComponentEventHandler<MenuItemProps>;\n\n  /**\n   * Event for request to change 'open' value.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props and proposed value.\n   */\n  onOpenChange?: ComponentEventHandler<PopupProps>;\n\n  /** A popup can show a pointer to trigger. */\n  pointing?: boolean;\n\n  /**\n   * DOM element that should be used as popup's target - instead of 'trigger' element that is used by default.\n   */\n  target?: HTMLElement;\n\n  /** Element to be rendered in-place where the popup is defined. */\n  trigger?: JSX.Element;\n\n  /** Whether the trigger should be tabbable */\n  tabbableTrigger?: boolean;\n\n  /** Shorthand for menu configuration */\n  menu?: ShorthandValue<MenuProps> | ShorthandCollection<MenuItemProps>;\n\n  /** Determines if the MenuButton behaves as context menu */\n  contextMenu?: boolean;\n}\n\nexport interface MenuButtonState {\n  open: boolean;\n  menuId: string;\n  triggerId: string;\n}\n\nexport const menuButtonClassName = 'ui-menubutton';\nexport const menuButtonSlotClassNames: MenuButtonSlotClassNames = {\n  menu: `${menuButtonClassName}__menu`,\n};\n\nexport type MenuButtonStylesProps = never;\n\n/**\n * A MenuButton displays a menu connected to trigger element.\n * @accessibility\n */\nexport const MenuButton = (React.forwardRef<HTMLDivElement, MenuButtonProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(MenuButton.displayName, context.telemetry);\n  setStart();\n\n  const {\n    // MenuButton props:\n    contextMenu,\n    menu,\n    // Popup props:\n    accessibility,\n    align,\n    className,\n    defaultOpen,\n    flipBoundary,\n    mountNode,\n    mouseLeaveDelay,\n    offset,\n    on,\n    onOpenChange,\n    overflowBoundary,\n    pointing,\n    popperRef,\n    position,\n    positionFixed,\n    tabbableTrigger,\n    target,\n    trigger,\n    unstable_disableTether,\n    unstable_pinned,\n    autoSize,\n    variables,\n  } = props;\n\n  const [open, setOpen] = useAutoControlled({\n    defaultValue: props.defaultOpen,\n    value: props.open,\n    initialValue: false,\n  });\n\n  useOnIFrameFocus(open, context.target, (e: Event) => {\n    setOpen(__ => {\n      _.invoke(props, 'onOpenChange', e, { ...props, ...{ open: false } });\n      return false;\n    });\n  });\n\n  const menuId = React.useRef<string>();\n  menuId.current = getOrGenerateIdFromShorthand('menubutton-menu-', menu, menuId.current);\n  const triggerId = React.useRef<string>();\n  triggerId.current = getOrGenerateIdFromShorthand('menubutton-trigger-', trigger, triggerId.current);\n\n  const triggerRef = React.useRef<HTMLElement>();\n  const menuRef = React.useRef<HTMLElement>();\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(MenuButton.handledProps, props);\n\n  const getA11yProps = useAccessibility<MenuButtonBehaviorProps>(accessibility, {\n    debugName: MenuButton.displayName,\n    actionHandlers: {\n      closeMenu: e => closeMenu(e),\n      openAndFocusFirst: e => openAndFocus(e, 'first'),\n      openAndFocusLast: e => openAndFocus(e, 'last'),\n    },\n    mapPropsToBehavior: () => ({\n      menuId: menuId.current,\n      triggerId: triggerId.current,\n      open,\n      trigger: props.trigger,\n      contextMenu,\n      on,\n      tabbableTrigger,\n    }),\n    rtl: context.rtl,\n  });\n\n  const popupProps: PopupProps = {\n    accessibility,\n    align,\n    defaultOpen,\n    mountNode,\n    mouseLeaveDelay,\n    flipBoundary,\n    offset,\n    on,\n    onOpenChange,\n    open,\n    overflowBoundary,\n    pointing,\n    popperRef,\n    position,\n    positionFixed,\n    tabbableTrigger,\n    target,\n    trigger,\n    unstable_disableTether,\n    unstable_pinned,\n    autoSize,\n  };\n\n  const { classes, styles: resolvedStyles } = useStyles<MenuButtonStylesProps>(MenuButton.displayName, {\n    className: menuButtonClassName,\n    mapPropsToInlineStyles: () => ({\n      className,\n      styles: props.styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const closeMenu = (e: React.KeyboardEvent) => {\n    handleOpenChange(e, false);\n  };\n\n  const openAndFocus = (e: React.KeyboardEvent, which: 'first' | 'last') => {\n    e.preventDefault();\n    handleOpenChange(e, true, () => menuRef.current && focusMenuItem(menuRef.current, which));\n  };\n\n  const handleOpenChange = (e: React.SyntheticEvent, open: boolean, callback?: () => void) => {\n    _.invoke(props, 'onOpenChange', e, { ...props, open });\n    setOpen(open);\n    callback && callback();\n  };\n\n  const handleMenuOverrides = (predefinedProps: MenuProps) => ({\n    onItemClick: (e: React.SyntheticEvent, itemProps: MenuItemProps) => {\n      _.invoke(predefinedProps, 'onItemClick', e, itemProps);\n      _.invoke(props, 'onMenuItemClick', e, itemProps);\n      if (!itemProps || !itemProps.menu) {\n        // do not close if clicked on item with submenu\n        handleOpenChange(e, false);\n      }\n    },\n    onKeyDown: (e: React.KeyboardEvent, itemProps: MenuItemProps) => {\n      _.invoke(predefinedProps, 'onKeyDown', e, itemProps);\n      if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {\n        e.stopPropagation();\n      }\n    },\n  });\n\n  const content = Menu.create(menu, {\n    defaultProps: () =>\n      getA11yProps('menu', {\n        vertical: true,\n        className: menuButtonSlotClassNames.menu,\n      }),\n    overrideProps: handleMenuOverrides,\n  });\n\n  const overrideProps: PopupProps = {\n    accessibility: getA11yProps.unstable_behaviorDefinition,\n    open,\n    onOpenChange: (e, { open }) => {\n      handleOpenChange(e, open);\n    },\n    content: {\n      styles: resolvedStyles.popupContent,\n      content: content && <Ref innerRef={menuRef}>{content}</Ref>,\n    },\n    children: undefined, // force-reset `children` defined for `Popup` as it collides with the `trigger\n    ...(contextMenu\n      ? {\n          on: 'context',\n          trapFocus: true,\n          tabbableTrigger: false,\n        }\n      : {\n          inline: true,\n          autoFocus: true,\n        }),\n  };\n\n  const popup = Popup.create(popupProps, { overrideProps });\n\n  if (contextMenu) {\n    setEnd();\n    return popup;\n  }\n\n  const element = getA11yProps.unstable_wrapWithFocusZone(\n    <ElementType\n      {...getA11yProps('root', {\n        ref,\n        className: classes.root,\n        ...unhandledProps,\n      })}\n    >\n      <Ref innerRef={triggerRef}>{popup}</Ref>\n    </ElementType>,\n  );\n  setEnd();\n  return element;\n}) as unknown) as ForwardRefWithAs<'div', HTMLDivElement, MenuButtonProps> &\n  FluentComponentStaticProps<MenuButtonProps>;\n\nMenuButton.displayName = 'MenuButton';\n\nMenuButton.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  align: PropTypes.oneOf(ALIGNMENTS),\n  defaultOpen: PropTypes.bool,\n  mountNode: customPropTypes.domNode,\n  mouseLeaveDelay: PropTypes.number,\n  offset: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.arrayOf(PropTypes.number) as PropTypes.Requireable<[number, number]>,\n  ]),\n  on: PropTypes.oneOfType([\n    PropTypes.oneOf(['hover', 'click', 'focus', 'context']),\n    PropTypes.arrayOf(PropTypes.oneOf(['click', 'focus', 'context'])),\n    PropTypes.arrayOf(PropTypes.oneOf(['hover', 'focus', 'context'])),\n  ]) as any,\n  flipBoundary: PropTypes.oneOfType([\n    PropTypes.object as PropTypes.Requireable<HTMLElement>,\n    PropTypes.arrayOf(PropTypes.object) as PropTypes.Requireable<HTMLElement[]>,\n    PropTypes.oneOf<'clippingParents' | 'window' | 'scrollParent'>(['clippingParents', 'window', 'scrollParent']),\n  ]),\n  overflowBoundary: PropTypes.oneOfType([\n    PropTypes.object as PropTypes.Requireable<HTMLElement>,\n    PropTypes.arrayOf(PropTypes.object) as PropTypes.Requireable<HTMLElement[]>,\n    PropTypes.oneOf<'clippingParents' | 'window' | 'scrollParent'>(['clippingParents', 'window', 'scrollParent']),\n  ]),\n  open: PropTypes.bool,\n  onMenuItemClick: PropTypes.func,\n  onOpenChange: PropTypes.func,\n  popperRef: customPropTypes.ref,\n  position: PropTypes.oneOf(POSITIONS),\n  positionFixed: PropTypes.bool,\n  target: PropTypes.any,\n  trigger: customPropTypes.every([customPropTypes.disallow(['children']), PropTypes.any]),\n  tabbableTrigger: PropTypes.bool,\n  unstable_disableTether: PropTypes.oneOf([true, false, 'all']),\n  unstable_pinned: PropTypes.bool,\n  autoSize: PropTypes.oneOf<AutoSize>(AUTOSIZES),\n  menu: PropTypes.oneOfType([\n    customPropTypes.itemShorthandWithoutJSX,\n    PropTypes.arrayOf(customPropTypes.itemShorthandWithoutJSX),\n  ]),\n  contextMenu: PropTypes.bool,\n};\n\nMenuButton.defaultProps = {\n  accessibility: menuButtonBehavior,\n  align: 'start',\n  position: 'below',\n};\n\nMenuButton.handledProps = Object.keys(MenuButton.propTypes) as any;\n\nMenuButton.create = createShorthandFactory({ Component: MenuButton, mappedProp: 'menu' });\n"],"file":"MenuButton.js"}