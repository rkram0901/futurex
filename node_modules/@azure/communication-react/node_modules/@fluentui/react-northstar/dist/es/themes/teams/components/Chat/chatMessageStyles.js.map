{"version":3,"sources":["themes/teams/components/Chat/chatMessageStyles.ts"],"names":["defaultChatDensity","chatMessageSlotClassNames","pxToRem","getBorderFocusStyles","chatMessageStylesComfy","chatMessageStylesCompact","displayActionMenu","overlayZIndex","zIndex","overflow","opacity","width","chatMessageDensityStyles","comfy","compact","getChatMessageDensityStyles","density","chatMessageStyles","root","componentStyleFunctionParam","p","props","v","variables","siteVariables","theme","borderRadius","display","outline","position","wordBreak","wordWrap","showActionMenu","hasActionMenu","actionMenu","defaultShowActionMenu","focused","backgroundColor","border","borderColor","reactionGroupBorderColor","boxShadow","actionMenuBoxShadow","author","compactBody","timestamp","content","color","contentColor","mine","linkColorMine","linkColor","textDecoration","badge","hasMention","hasMentionNubbinColor","isImportantColor","badgeShadow","badgeTextColor","height","padding","reactionGroup"],"mappings":"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","sourcesContent":["import { ComponentSlotStylesPrepared, ICSSInJSStyle } from '@fluentui/styles';\nimport { isNil } from 'lodash';\n\nimport { ChatDensity, defaultChatDensity } from '../../../../components/Chat/chatDensity';\nimport { chatMessageSlotClassNames, ChatMessageStylesProps } from '../../../../components/Chat/ChatMessage';\nimport { pxToRem } from '../../../../utils';\nimport { getBorderFocusStyles } from '../../getBorderFocusStyles';\nimport { chatMessageStylesComfy } from './chatMessageStylesComfy';\nimport { chatMessageStylesCompact } from './chatMessageStylesCompact';\nimport { ChatMessageVariables } from './chatMessageVariables';\n\nconst displayActionMenu = (overlayZIndex: ICSSInJSStyle['zIndex']): ICSSInJSStyle => ({\n  // we need higher zIndex for the action menu in order to be displayed above the focus border of the chat message\n  zIndex: overlayZIndex,\n  overflow: 'visible',\n  // opacity should always be preferred over visibility in order to avoid accessibility bugs in\n  // JAWS behavior on Windows\n  opacity: 1,\n  width: 'auto',\n});\n\nconst chatMessageDensityStyles: Record<\n  ChatDensity,\n  ComponentSlotStylesPrepared<ChatMessageStylesProps, ChatMessageVariables>\n> = {\n  comfy: chatMessageStylesComfy,\n  compact: chatMessageStylesCompact,\n};\n\nconst getChatMessageDensityStyles = (density: ChatDensity = defaultChatDensity) => chatMessageDensityStyles[density];\n\nexport const chatMessageStyles: ComponentSlotStylesPrepared<ChatMessageStylesProps, ChatMessageVariables> = {\n  root: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const {\n      props: p,\n      variables: v,\n      theme: { siteVariables },\n    } = componentStyleFunctionParam;\n    return {\n      borderRadius: v.borderRadius,\n      display: 'inline-block',\n      outline: 0,\n      position: 'relative',\n      wordBreak: 'break-word',\n      wordWrap: 'break-word',\n\n      ...getBorderFocusStyles({ borderRadius: 'inherit', variables: siteVariables }),\n\n      // ActionMenu's appearance can be controlled by the value of showActionMenu variable - in this\n      // case this variable will serve the single source of truth on whether actions menu should be shown.\n      // Otherwise, if the variable is not provided, the default appearance logic will be used for actions menu.\n      ...(isNil(v.showActionMenu) &&\n        p.hasActionMenu && {\n          ':hover': {\n            [`> .${chatMessageSlotClassNames.actionMenu}`]: displayActionMenu(v.overlayZIndex),\n          },\n          ...(p.showActionMenu && {\n            [`> .${chatMessageSlotClassNames.actionMenu}`]: displayActionMenu(v.overlayZIndex),\n          }),\n        }),\n\n      ...getChatMessageDensityStyles(p.density).root?.(componentStyleFunctionParam),\n    };\n  },\n\n  actionMenu: ({ props: p, variables: v }): ICSSInJSStyle => {\n    const defaultShowActionMenu = p.hasActionMenu && (p.focused || p.showActionMenu);\n    const showActionMenu = isNil(v.showActionMenu) ? defaultShowActionMenu : v.showActionMenu;\n\n    return {\n      backgroundColor: v.backgroundColor,\n      border: '1px solid',\n      borderColor: v.reactionGroupBorderColor,\n      borderRadius: v.borderRadius,\n      boxShadow: v.actionMenuBoxShadow,\n      '[data-popper-escaped]': { opacity: 0 },\n\n      zIndex: -1,\n      overflow: 'hidden',\n      opacity: 0,\n      width: 0,\n      ...(showActionMenu && displayActionMenu(v.overlayZIndex)),\n    };\n  },\n\n  author: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return getChatMessageDensityStyles(p.density).author?.(componentStyleFunctionParam);\n  },\n\n  compactBody: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return getChatMessageDensityStyles(p.density).compactBody?.(componentStyleFunctionParam);\n  },\n\n  timestamp: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return {\n      display: 'inline-block',\n      ...getChatMessageDensityStyles(p.density).timestamp?.(componentStyleFunctionParam),\n    };\n  },\n\n  content: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p, variables: v } = componentStyleFunctionParam;\n    return {\n      color: v.contentColor,\n      display: 'block',\n      '& a': {\n        outline: 'none',\n        color: p.mine ? v.linkColorMine : v.linkColor,\n        ':focus': {\n          textDecoration: 'underline',\n        },\n      },\n      ...getChatMessageDensityStyles(p.density).content?.(componentStyleFunctionParam),\n    };\n  },\n\n  badge: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p, variables: v } = componentStyleFunctionParam;\n    return {\n      backgroundColor: v.hasMention ? v.hasMentionNubbinColor : v.isImportantColor,\n      borderRadius: '50%',\n      boxShadow: v.badgeShadow,\n      color: v.badgeTextColor,\n      height: 'auto',\n      padding: pxToRem(4),\n      width: 'auto',\n      zIndex: v.zIndex,\n      '& > :first-child': { display: 'inline-flex' },\n      ...getChatMessageDensityStyles(p.density).badge?.(componentStyleFunctionParam),\n    };\n  },\n\n  reactionGroup: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return getChatMessageDensityStyles(p.density).reactionGroup?.(componentStyleFunctionParam);\n  },\n};\n"],"file":"chatMessageStyles.js"}